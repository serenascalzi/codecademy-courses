<!DOCTYPE html>
<html lang="en">
	<head>	
		<title>Introduction to JavaScript</title>	
		<script src="../js/jquery.min.js"></script>
		<script src="../js/handlebars-v3.0.3.js"></script>
		<script src="../js/bootstrap.min.js"></script>
		<script src="../js/date.js"></script>
		<link rel="stylesheet" href="../css/bootstrap_plain.css">
		<link rel="stylesheet" href="../css/styles.css">
	</head>
	
	<body>
		<nav class="navbar navbar-default">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
						<span class="sr-only">Toggle Navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<h1><a class="navbar-brand" href="../index.html">Codecademy Courses</a></h1>
				</div>
				<div id="navbar" class="navbar-collapse collapse">
					<ul class="nav navbar-nav">
						<li class="dropdown">
							<a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Command Line&nbsp;<span class="caret"></span></a>
							<ul class="dropdown-menu">
								<li><a href="../command-line-course/navigating.html">Navigating the File System</a></li>
								<li><a href="../command-line-course/viewing.html">Viewing and Changing the File System</a></li>
								<li><a href="../command-line-course/redirecting.html">Redirecting Input and Output</a></li>
								<li><a href="../command-line-course/configuring.html">Configuring the Environment</a></li>
							</ul>
						</li>
						<li class="dropdown">
							<a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">HTML&nbsp;<span class="caret"></span></a>
							<ul class="dropdown-menu">
								<li><a href="../html-course/introduction.html">Introduction to HTML</a></li>
								<li><a href="../html-course/standards.html">HTML Document Standards</a></li>
								<li><a href="../html-course/tables.html">Tables</a></li>
							</ul>
						</li>
						<li class="dropdown">
							<a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">CSS&nbsp;<span class="caret"></span></a>
							<ul class="dropdown-menu">
								<li><a href="../css-course/selectors.html">CSS Setup and Selectors</a></li>
								<li><a href="../css-course/rules.html">CSS Visual Rules</a></li>
								<li><a href="../css-course/model.html">The Box Model</a></li>
								<li><a href="../css-course/changing.html">Changing the Box Model</a></li>
								<li><a href="../css-course/display.html">CSS Display and Positioning</a></li>
								<li><a href="../css-course/color.html">CSS Color</a></li>
								<li><a href="../css-course/typography.html">CSS Typography</a></li>
								<li><a href="../css-course/grid.html">CSS Grid Essentials</a></li>
								<li><a href="../css-course/advanced.html">Advanced CSS Grid</a></li>
							</ul>
						</li>
						<li class="dropdown">
							<a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">JavaScript&nbsp;<span class="caret"></span></a>
							<ul class="dropdown-menu">
								<li><a href="introduction.html">Introduction</a></li>
								<li><a href="variables.html">Variables</a></li>
								<li><a href="controlflow.html">Control Flow</a></li>
								<li><a href="functions.html">Functions</a></li>
								<li><a href="scope.html">Scope</a></li>
								<li><a href="arrays.html">Arrays</a></li>
								<li><a href="loops.html">Loops</a></li>
								<li><a href="iterators.html">Iterators</a></li>
								<li><a href="objects.html">Objects</a></li>
								<li><a href="classes.html">Classes</a></li>
								<li><a href="browser.html">Browser Compatibility and Transpilation</a></li>
								<li><a href="modules.html">Modules</a></li>
								<li class="active"><a href="request1.html">Requests I</a></li>
								<li><a href="request2.html">Requests II</a></li>
							</ul>
						</li>
						<li class="dropdown">
							<a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">PHP&nbsp;<span class="caret"></span></a>
							<ul class="dropdown-menu">
								<li><a href="../php-course/introduction.html">Introduction to PHP</a></li>
								<li><a href="../php-course/strings.html">PHP Strings and Variables</a></li>
								<li><a href="../php-course/numbers.html">PHP Numbers</a></li>
								<li><a href="../php-course/functions.html">Introduction to PHP Functions</a></li>
								<li><a href="../php-course/builtin.html">Intro to Built-in PHP Functions</a></li>
								<li><a href="../php-course/ordered.html">Ordered Arrays</a></li>
								<li><a href="../php-course/associative.html">Associative Arrays</a></li>
								<li><a href="../php-course/html.html">PHP and HTML</a></li>
								<li><a href="../php-course/form.html">HTML Form Handling in PHP</a></li>
								<li><a href="../php-course/comparison.html">Booleans and Comparison Operators</a></li>
								<li><a href="../php-course/conditions.html">Logical Operators and Compound Conditions</a></li>
								<li><a href="../php-course/loops.html">Loops</a></li>
								<li><a href="../php-course/loops2.html">Loops in HTML</a></li>
								<li><a href="../php-course/validation.html">Introduction to Form Validation</a></li>
								<li><a href="../php-course/regex.html">Introduction to Regular Expressions</a></li>
								<li><a href="../php-course/validation2.html">Introduction to PHP Form Validation</a></li>
								<li><a href="../php-course/classes.html">Classes and Objects</a></li>
							</ul>
						</li>
						<li class="dropdown">
							<a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">SQL&nbsp;<span class="caret"></span></a>
							<ul class="dropdown-menu">
								<li><a href="../sql-course/manipulation.html">Manipulation</a></li>
								<li><a href="../sql-course/queries.html">Queries</a></li>
								<li><a href="../sql-course/functions.html">Aggregate Functions</a></li>
								<li><a href="../sql-course/tables.html">Multiple Tables</a></li>
							</ul>
						</li>
						<li class="dropdown">
							<a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Java&nbsp;<span class="caret"></span></a>
							<ul class="dropdown-menu">
								<li><a href="../java-course/hello.html">Hello World</a></li>
								<li><a href="../java-course/variables.html">Variables</a></li>
								<li><a href="../java-course/manipulating.html">Manipulating Variables</a></li>
								<li><a href="../java-course/classes.html">Introduction to Classes</a></li>
								<li><a href="../java-course/methods.html">Methods</a></li>
								<li><a href="../java-course/conditionals.html">Conditionals and Control Flow</a></li>
								<li><a href="../java-course/operators.html">Conditional Operators</a></li>
								<li><a href="../java-course/arrays.html">Arrays</a></li>
								<li><a href="../java-course/arraylists.html">ArrayLists</a></li>
								<li><a href="../java-course/loops.html">Loops</a></li>
								<li><a href="../java-course/string.html">String Methods</a></li>
								<li><a href="../java-course/inheritance.html">Inheritance and Polymorphism</a></li>
								<li><a href="../java-course/debugging.html">Debugging</a></li>
							</ul>
						</li>
						<li class="dropdown">
							<a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Resources&nbsp;<span class="caret"></span></a>
							<ul class="dropdown-menu">
								<li><a href="../resources.html#command-line-resources">Command Line</a></li>
								<li><a href="../resources.html#html-resources">HTML</a></li>
								<li><a href="../resources.html#css-resources">CSS</a></li>
								<li><a href="../resources.html#javascript-resources">JavaScript</a></li>
								<li><a href="../resources.html#php-resources">PHP</a></li>
								<li><a href="../resources.html#sql-resources">SQL</a></li>
								<li><a href="../resources.html#java-resources">Java</a></li>
							</ul>
						</li>
					</ul>
				</div>
			</div>
		</nav>
		
		<div class="container">
			<ol class="breadcrumb">
				<li>JavaScript</li>
				<li>Requests I</li>
			</ol>
			<h2>Requests I</h2>
			<h3>Review Requests I</h3>
			<ol>
				<li>JavaScript is the language of the web because of its asynchronous capabilities. A set of tools that are used together to take advantage of JavaScript's asynchronous capabilities is called AJAX, which stands for Asynchronous JavaScript and XML.</li>
				<li>There are four HTTP request methods, two of which are GET and POST.</li>
				<li>GET requests only request information from other sources.</li>
				<li>POST methods can introduce new information to other sources in addition to requesting it.</li>
				<li>GET requests can be written using an XMLHttpRequest object and vanilla JavaScript.</li>
				<li>POST requests can also be written using an XMLHttpRequest object and vanilla JavaScript.</li>
				<li>Writing GET and POST requests with XHR objects and vanilla JavaScript requires constructing the XHR object using new, setting the responseType, creating a function that will handle the response object, and opening and sending the request.</li>
				<li>Much of the boilerplate used to write GET and POST requests with XHR and vanilla JavaScript can be reduced by using the $.ajax() method from the jQuery library.</li>
				<li>jQuery provides other helper methods that can further reduce boilerplate such as $.get(), $.post(), and $.getJSON().</li>
				<li>Determining how to correctly write the requests and how to properly implement them requires carefully reading the documentation of the API with which you're working.</li>
			</ol>
		</div>

		<footer>
			<div class="container">
				<hr>
				<div id="today"></div>
			</div>
		</footer>

		<script type="text/javascript">	
			// AJAX - Asynchronous JavaScript and XML
			// Google URL Shortener @ https://developers.google.com/url-shortener/v1/getting_started
			// Google URL Shortener API @ https://www.codecademy.com/articles/google-api
			// Codecademy API Key 'AIzaSyC2r2q5xxmUKypub09IZQdh6sysDc5t01w'
			// HTTP Requests - GET, POST, PUT, DELETE
			// GET - Receive information from other sites by sending a query, like a search
			// POST - Can change information on another site and will receive information or data in response, introduce new information
			// XHR - XMLHttpRequest object used to retrieve data
			// XHR Response Types @ https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseType
			// XMLHttpRequest GET
			const xhr = new XMLHttpRequest();
			const url = 'https://api-to-call.com/endpoint';
			
			xhr.responseType = 'json';
			xhr.onreadystatechange = function() {
				if (xhr.readyState === XMLHttpRequest.DONE) {
					// Code to execute with response
					console.log(xhr.response); 
				}
			};
			
			xhr.open('GET', url);
			xhr.send();
			
			// Google URL Shortener API Reference @ https://developers.google.com/url-shortener/v1/
			// Use DevTools @ https://www.codecademy.com/articles/use-devtools
			// XMLHttpRequest POST
			const xhr = new XMLHttpRequest();
			const url = 'https://api-to-call.com/endpoint';
			const data = JSON.stringify({id: 200});
			
			xhr.responseType = 'json';
			xhr.onreadystatechange = function() {
				if (xhr.readyState === XMLHttpRequest.DONE) {
					// Code to execute with response
					console.log(xhr.response); 
				}
			};
			
			xhr.open('POST', url);
			xhr.setRequestHeader('Content-Type', 'application/json');
			xhr.send(data);
			
			// jQuery GET
			$.ajax({
				url: 'https://api-to-call.com/endpoint',
				type: 'GET',
				dataType: 'json',
				success(response) {
					// Code to execute with response on success
					console.log(response);
				},
				error(jqXHR, status, errorThrown) {
					// Code to execute with response on failure
					console.log(jqXHR);
				}
			});
			
			// jQuery POST
			$.ajax({
				url: 'https://api-to-call.com/endpoint',
				type: 'POST',
				data: JSON.stringify({id: 200}),
				dataType: 'json',
				contentType: 'application/json',
				success(response) {
					// Code to execute with response on success
					console.log(response);
				},
				error(jqXHR, status, errorThrown) {
					// Code to execute with response on failure
					console.log(jqXHR);
				}
			});
			
			// Refactor expandUrl() Function with $.get() Method
			function expandUrl() {
				const urlToExpand = url + '?key=' + apiKey + '&shortUrl=' + $inputField.val();
				$.get(urlToExpand, response => {
					$responseField.append('<p>Your expanded url is: </p><p>' + response.longUrl + '</p>');
				}, 'json');
			}
			
			// jQuery.post() @ https://api.jquery.com/jquery.post/
			// Refactor shortenUrl() Function with $.post() Method
			function shortenUrl() {
				const urlWithKey = url + '?key=' + apiKey;
				const urlToShorten = $inputField.val();
				$.post({
					url: urlWithKey,
					data: JSON.stringify({longUrl: urlToShorten}),
					dataType: 'json',
					contentType: 'application/json',
					success(response) {
						$responseField.append('<p>Your shortened url is: </p><p>' + response.id + '</p>');
					},
					error(jqXHR, status, errorThrown) {
						console.log(jqXHR);
					}
				});
			}

			// jQuery.getJSON() @ http://api.jquery.com/jquery.getjson/
			// Refactor expandUrl() Function with $.getJSON() Method
			function expandUrl() {
				const urlToExpand = url + '?key=' + apiKey + '&shortUrl=' + $inputField.val();
				$.getJSON(urlToExpand, response => {
					$responseField.append('<p>Your expanded url is: </p><p>' + response.longUrl + '</p>');
				});
			}
		</script>
	</body>	
</html>